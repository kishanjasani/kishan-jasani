(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.i18n,n=window.wp.apiFetch;var s=e.n(n);const a=window.wp.domReady;var o=e.n(a);const r=window.jQuery;var i=e.n(r);const c="#kj-refresh",d=".kj-page table",l=e=>(e=i()(e)).closest(".kj-page__refresh").find(c),p=(e,t,n=!1)=>{if(i()(d).find(".notice").remove(),n)return;const s=t.includes("is-dismissible"),a=i()("<div>",{class:"notice "+t}),o=i()("<p>",{});if(o.text(e),a.append(o),s){const e=i()("<button>",{type:"button",class:"notice-dismiss"});e.on("click",(e=>{i()(e.target).closest(".notice").remove()})),a.append(e)}i()(d).find("caption").append(a),setTimeout((()=>{a.remove()}),3e3)},h=(e,t)=>{const n=l(e);if(!n.length)return;n.prop("disabled",t);const s="span.dashicons",a="dashicons-image-rotate",o="dashicons-ellipsis";t?n.find(s).removeClass(a).addClass(o):n.find(s).removeClass(o).addClass(a)},u=async e=>{if((e=>{const t=l(e);return t.length&&!0===t.prop("disabled")})(e.target))return;h(e.target,!0),p((0,t.__)("Fetchingâ€¦","kishan-jasani"),"notice-info");const n=i()(d);if(!n.length)return p((0,t.__)("Something went wrong! Data table not found!","kishan-jasani"),"notice-error"),void h(e.target,!1);const{success:a,error:o,data:r}=await(async()=>{let e=null;try{e=await s()({path:"kishan-jasani/v1/users"})}catch(t){e={success:!1,error:t.message}}return e})();if(!a)return p(o||(0,t.__)("Something went wrong! Data not found!","kishan-jasani"),"notice-error"),void h(e.target,!1);const{headers:c,rows:u}=r,f=n.find("thead > tr"),g=n.find("tbody");f.html(""),g.html(""),c.forEach((e=>{const t=i()("<th>",{});t.text(e),f.append(t)})),Object.values(u).forEach((e=>{const t=i()("<tr>",{});Object.values(e).forEach((e=>{const n=i()("<td>",{}),s=i()("<center>",{});s.text(e),n.append(s),t.append(n)})),g.append(t)})),p((0,t.__)("Cache Refreshed!","kishan-jasani"),"notice-success is-dismissible"),h(e.target,!1)};o()((()=>{i()(c).on("click",u)}))})();